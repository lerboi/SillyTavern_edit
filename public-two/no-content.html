i18n = HTML atrribute library used for translation

Chat Page div = 
<div id="sheld">
        <div id="sheldheader" class="fa-solid fa-grip drag-grabber"></div>
        <div id="chat">
        </div>
        <div id="form_sheld">
            <div id="dialogue_del_mes">
                <div id="dialogue_del_mes_ok" class="menu_button">Delete</div>
                <div id="dialogue_del_mes_cancel" class="menu_button">Cancel</div>
            </div>
            <div id="send_form" class="no-connection">
                <form id="file_form" class="wide100p displayNone">
                    <div class="file_attached">
                        <input id="file_form_input" type="file" hidden>
                        <input id="embed_file_input" type="file" hidden>
                        <i class="fa-solid fa-file-alt"></i>
                        <span class="file_name">File Name</span>
                        <span class="file_size">File Size</span>
                        <button id="file_form_reset" type="reset" class="menu_button" title="Remove the file" data-i18n="[title]Remove the file">
                            <i class="fa fa-times"></i>
                        </button>
                    </div>
                </form>
                <div id="nonQRFormItems">
                    <div id="leftSendForm" class="alignContentCenter">
                        <div id="options_button" class="fa-solid fa-bars interactable"></div>
                    </div>
                    <textarea id="send_textarea" name="text" class="mdHotkeys" data-i18n="[no_connection_text]Not connected to API!;[connected_text]Type a message, or /? for help" placeholder="Not connected to API!" no_connection_text="Not connected to API!" connected_text="Type a message, or /? for help"></textarea>
                    <div id="rightSendForm" class="alignContentCenter">
                        <div id="stscript_continue" title="Continue script execution" class="stscript_btn stscript_continue" data-i18n="[title]Continue script execution">
                            <i class="fa-solid fa-play"></i>
                        </div>
                        <div id="stscript_pause" title="Pause script execution" class="stscript_btn stscript_pause" data-i18n="[title]Pause script execution">
                            <i class="fa-solid fa-pause"></i>
                        </div>
                        <div id="stscript_stop" title="Abort script execution" class="stscript_btn stscript_stop" data-i18n="[title]Abort script execution">
                            <i class="fa-solid fa-stop"></i>
                        </div>
                        <div id="mes_stop" title="Abort request" class="mes_stop" data-i18n="[title]Abort request">
                            <i class="fa-solid fa-circle-stop"></i>
                        </div>
                        <div id="mes_impersonate" class="fa-solid fa-user-secret interactable displayNone" title="Ask AI to write your message for you" data-i18n="[title]Ask AI to write your message for you" tabindex="0"></div>
                        <div id="mes_continue" class="fa-fw fa-solid fa-arrow-right interactable displayNone" title="Continue the last message" data-i18n="[title]Continue the last message"></div>
                        <div id="send_but" class="fa-solid fa-paper-plane interactable displayNone" title="Send a message" data-i18n="[title]Send a message"></div>
                    </div>
                </div>
            </div>
        </div>
</div>

//Nav Icons
API Connections = 
<div id="sys-settings-button" class="drawer">
    <div class="drawer-toggle drawer-header">
        <div id="API-status-top" class="drawer-icon fa-solid fa-plug-circle-exclamation fa-fw closedIcon" title="API Connections" data-i18n="[title]API Connections;[no_connection_text]api_no_connection" no_connection_text="No connection..."></div>
    </div>
    <div id="rm_api_block" class="drawer-content closedDrawer">
        <h3 class="margin0" id="title_api">API</h3>
        <div class="flex-container flexFlowColumn">
            <div id="main-API-selector-block">
                <select id="main_api">
                    <option value="textgenerationwebui" data-i18n="Text Completion">Text Completion</option>
                    <option value="openai" data-i18n="Chat Completion">Chat Completion</option>
                    <option value="novel" data-i18n="NovelAI">NovelAI</option>
                    <option value="koboldhorde" data-i18n="KoboldAI Horde">KoboldAI Horde</option>
                    <option value="kobold" data-i18n="KoboldAI">KoboldAI Classic</option>
                </select>
            </div>
            <div id="kobold_horde" style="position: relative;"> <!-- shows the kobold settings -->
                <form action="javascript:void(null);" method="post" enctype="multipart/form-data">
                    <div id="kobold_horde_block">
                        <ul>
                            <li>
                                <a target="_blank" href="https://aihorde.net/" data-i18n="KoboldAI Horde Website">
                                    KoboldAI Horde Website
                                </a>
                            </li>
                            <li>
                                <span data-i18n="Avoid sending sensitive information to the Horde.">Avoid sending sensitive information to the Horde.</span>
                                <a target="_blank" href="https://docs.sillytavern.app/usage/api-connections/horde/" data-i18n="Review the Privacy statement">
                                    Review the Privacy statement
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://aihorde.net/register" data-i18n="Register a Horde account for faster queue times">
                                    Register a Horde account for faster queue times
                                </a>
                            </li>
                            <li>
                                <a target="_blank" href="https://github.com/Haidra-Org/horde-worker-reGen?tab=readme-ov-file#ai-horde-worker-regen" data-i18n="Learn how to contribute your idle GPU cycles to the Horde">
                                    Learn how to contribute your idle GPU cycles to the Horde
                                </a>
                            </li>
                        </ul>
                        <label for="horde_auto_adjust_context_length" class="checkbox_label">
                            <input id="horde_auto_adjust_context_length" type="checkbox" />
                            <span data-i18n="Adjust context size to worker capabilities">Adjust context size to worker capabilities</span>
                        </label>
                        <label for="horde_auto_adjust_response_length" class="checkbox_label">
                            <input id="horde_auto_adjust_response_length" type="checkbox" />
                            <span data-i18n="Adjust response length to worker capabilities">Adjust response length to worker capabilities</span>
                        </label>
                        <label for="horde_trusted_workers_only" class="checkbox_label" title="Can help with bad responses by queueing only the approved workers. May slowdown the response time." data-i18n="[title]Can help with bad responses by queueing only the approved workers. May slowdown the response time.">
                            <input id="horde_trusted_workers_only" type="checkbox" />
                            <span data-i18n="Trusted workers only">Trusted workers only</span>
                        </label>
                        <small id="adjustedHordeParams">Context: --, Response: --</small>
                        <h4 data-i18n="API key">API key</h4>
                        <small>
                            <span data-i18n="Get it here:">Get it here: </span> <a target="_blank" href="https://aihorde.net/register" data-i18n="Register">Register</a> (<a id="horde_kudos" href="javascript:void(0);" data-i18n="View my Kudos">View my Kudos</a>)<br>
                            <span data-i18n="Enter">Enter </span> <span class="monospace">0000000000</span> <span data-i18n="to use anonymous mode.">to use anonymous mode. </span>
                        </small>
                        <div class="flex-container">
                            <input id="horde_api_key" name="horde_api_key" class="text_pole flex1" type="text" placeholder="0000000000" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_horde"></div>
                        </div>
                        <div data-for="horde_api_key" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <h4 class="horde_model_title">
                            <span data-i18n="Models">Models </span>
                            <div id="horde_refresh" title="Refresh models" data-i18n="[title]Refresh models" class="right_menu_button">
                                <div class="fa-solid fa-repeat "></div>
                            </div>
                        </h4>
                        <select id="horde_model" multiple>
                            <option data-i18n="-- Horde models not loaded --">-- Horde models not loaded --</option>
                        </select>
                    </div>
                    <div class="online_status">
                        <div class="online_status_indicator"></div>
                        <div data-i18n="Not connected..." class="online_status_text">Not connected...</div>
                    </div>
                </form>
            </div>
            <div id="kobold_api" style="position: relative;"> <!-- shows the kobold settings -->
                <form action="javascript:void(null);" method="post" enctype="multipart/form-data">
                    <div id="kobold_api_block">
                        <h4 data-i18n="API url">API url</h4>
                        <small data-i18n="Example: http://127.0.0.1:5000/api ">Example: http://127.0.0.1:5000/api </small>
                        <input id="api_url_text" name="api_url" class="text_pole" placeholder="http://127.0.0.1:5000/api" value="" autocomplete="off" data-server-history="kobold">
                        <div id="koboldcpp_hint" class="neutral_warning displayNone">
                            KoboldCpp works better when you select the Text Completion API and then KoboldCpp as a type!
                        </div>
                        <div class="flex-container">
                            <div id="api_button" class="api_button menu_button menu_button_icon" type="submit" data-i18n="Connect" data-server-connect="kobold">Connect</div>
                            <div class="api_loading menu_button menu_button_icon" data-i18n="Cancel">Cancel</div>
                        </div>
                    </div>
                    <div class="online_status">
                        <div class="online_status_indicator"></div>
                        <div class="online_status_text" data-i18n="Not connected...">Not connected...</div>
                    </div>
                </form>
            </div>
            <div id="novel_api" style="display: none;position: relative;"> <!-- shows the novel settings -->
                <form action="javascript:void(null);" method="post" enctype="multipart/form-data">
                    <h4 data-i18n="Novel API key">Novel API key</h4>
                    <span>
                        <ol>
                            <li>
                                <a href="https://docs.sillytavern.app/usage/api-connections/novelai/" class="notes-link" target="_blank"> <span data-i18n="Get your NovelAI API Key">Get your NovelAI API key</span></a>
                            </li>
                            <li><span data-i18n="Enter it in the box below">Enter it in the box below:</span>
                            </li>
                        </ol>
                    </span>
                    <div class="flex-container">
                        <input id="api_key_novel" name="api_key_novel" class="text_pole flex1 wide100p" type="text" autocomplete="off">
                        <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_novel">
                        </div>
                    </div>
                    <div data-for="api_key_novel" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                        For privacy reasons, your API key will be hidden after you reload the page.
                    </div>
                    <h4><span data-i18n="Novel AI Model">Novel AI Model</span>
                        <a href="https://docs.sillytavern.app/usage/api-connections/novelai/#models" class="notes-link" target="_blank">
                            <span class="fa-solid fa-circle-question note-link-span"></span>
                        </a>
                    </h4>
                    <select id="model_novel_select">
                        <option value="clio-v1">Clio</option>
                        <option value="kayra-v1">Kayra</option>
                        <option value="llama-3-erato-v1">Erato</option>
                    </select>
                    <div class="flex-container">
                        <div id="api_button_novel" class="api_button menu_button menu_button_icon" type="submit" data-i18n="Connect">Connect</div>
                        <div class="api_loading menu_button menu_button_icon" data-i18n="Cancel">Cancel</div>
                    </div>
                </form>
                <div class="online_status">
                    <div class="online_status_indicator"></div>
                    <div class="online_status_text" data-i18n="No connection...">No connection... </div>
                </div>
            </div>
            <div id="textgenerationwebui_api" style="display: none;position: relative;">
                <form action="javascript:void(null);" method="post" enctype="multipart/form-data">
                    <div>
                        <h4 data-i18n="API Type">API Type</h4>
                        <select id="textgen_type">
                            <option value="ooba" data-i18n="Default (completions compatible)">Default [OpenAI /completions compatible: oobabooga, LM Studio, etc.]</option>
                            <option value="aphrodite">Aphrodite</option>
                            <option value="dreamgen">DreamGen</option>
                            <option value="featherless">Featherless</option>
                            <option value="huggingface">HuggingFace (Inference Endpoint)</option>
                            <option value="infermaticai">InfermaticAI</option>
                            <option value="koboldcpp">KoboldCpp</option>
                            <option value="llamacpp">llama.cpp</option>
                            <option value="mancer">Mancer</option>
                            <option value="ollama">Ollama</option>
                            <option value="openrouter">OpenRouter</option>
                            <option value="tabby">TabbyAPI</option>
                            <option value="togetherai">TogetherAI</option>
                            <option value="vllm">vLLM</option>
                        </select>
                    </div>
                    <div data-tg-type="togetherai" class="flex-container flexFlowColumn">
                        <h4 data-i18n="TogetherAI API Key">TogetherAI API Key</h4>
                        <div class="flex-container">
                            <input id="api_key_togetherai" name="api_key_togetherai" class="text_pole flex1" value="" type="text" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_togetherai"></div>
                        </div>
                        <div data-for="api_key_togetherai" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <div>
                            <h4 data-i18n="TogetherAI Model">TogetherAI Model</h4>
                            <select id="model_togetherai_select">
                                <option value="" data-i18n="-- Connect to the API --">
                                    -- Connect to the API --
                                </option>
                            </select>
                        </div>
                    </div>
                    <div data-tg-type="openrouter" class="flex-container flexFlowColumn">
                        <h4 data-i18n="OpenRouter API Key">OpenRouter API Key</h4>
                        <div>
                            <small data-i18n="Click Authorize below or get the key from">
                                Click "Authorize" below or get the key from </small> <a target="_blank" href="https://openrouter.ai/keys/">OpenRouter</a>.
                            <br>
                            <a href="https://openrouter.ai/account" target="_blank" data-i18n="View Remaining Credits">View Remaining Credits</a>
                        </div>
                        <div class="flex-container">
                            <input id="api_key_openrouter-tg" name="api_key_openrouter" class="text_pole flex1 api_key_openrouter" value="" type="text" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_openrouter"></div>
                        </div>
                        <div data-for="api_key_openrouter" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <div>
                            <h4 data-i18n="OpenRouter Model">OpenRouter Model</h4>
                            <select id="openrouter_model">
                                <option value="" data-i18n="-- Connect to the API --">
                                    -- Connect to the API --
                                </option>
                            </select>
                        </div>
                        <div>
                            <h4 data-i18n="Model Providers">Model Providers</h4>
                            <select id="openrouter_providers_text" class="openrouter_providers" multiple>
                            </select>
                            <label class="checkbox_label" for="openrouter_allow_fallbacks_textgenerationwebui" title="Automatically chooses an alternative provider if chosen providers can't serve your request.">
                                <input id="openrouter_allow_fallbacks_textgenerationwebui" type="checkbox" />
                                <span data-i18n="Allow fallback providers">Allow fallback providers</span>
                            </label>
                        </div>
                    </div>
                    <div data-tg-type="infermaticai" class="flex-container flexFlowColumn">
                        <h4 data-i18n="InfermaticAI API Key">InfermaticAI API Key</h4>
                        <div class="flex-container">
                            <input id="api_key_infermaticai" name="api_key_infermaticai" class="text_pole flex1" value="" type="text" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_infermaticai"></div>
                        </div>
                        <div data-for="api_key_infermaticai" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <div>
                            <h4 data-i18n="InfermaticAI Model">InfermaticAI Model</h4>
                            <select id="model_infermaticai_select">
                                <option value="" data-i18n="-- Connect to the API --">
                                    -- Connect to the API --
                                </option>
                            </select>
                        </div>
                    </div>
                    <div data-tg-type="dreamgen" class="flex-container flexFlowColumn">
                        <h4>
                            <span data-i18n="DreamGen API key">DreamGen API key</span>
                            <a href="https://docs.sillytavern.app/usage/api-connections/dreamgen/" class="notes-link" target="_blank">
                                <span class="fa-solid fa-circle-question note-link-span"></span>
                            </a>
                        </h4>
                        <div class="flex-container">
                            <input id="api_key_dreamgen" name="api_key_dreamgen" class="text_pole flex1" value="" type="text" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_dreamgen"></div>
                        </div>
                        <div data-for="api_key_dreamgen" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <div>
                            <h4 data-i18n="DreamGen Model">DreamGen Model</h4>
                            <select id="model_dreamgen_select">
                                <option value="" data-i18n="-- Connect to the API --">
                                    -- Connect to the API --
                                </option>
                            </select>
                        </div>
                    </div>
                    <div data-tg-type="mancer" class="flex-container flexFlowColumn">
                        <div class="flex-container flexFlowColumn">
                        </div>
                        <h4 data-i18n="Mancer API key">
                            Mancer API key
                            <a href="https://mancer.tech/" class="notes-link" target="_blank">
                                <span class="fa-solid fa-circle-question note-link-span"></span>
                            </a>
                        </h4>
                        <div class="flex-container">
                            <input id="api_key_mancer" name="api_key_mancer" class="text_pole flex1 wide100p" type="text" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_mancer">
                            </div>
                        </div>
                        <div data-for="api_key_mancer" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <div class="flex1">
                            <h4 data-i18n="Mancer Model">Mancer Model</h4>
                            <select id="mancer_model">
                                <option value="" data-i18n="-- Connect to the API --">
                                    -- Connect to the API --
                                </option>
                            </select>
                        </div>
                    </div>
                    <div data-tg-type="ooba" class="flex-container flexFlowColumn">
                        <div class="flex-container flexFlowColumn">
                            <a href="https://github.com/oobabooga/text-generation-webui" target="_blank">
                                oobabooga/text-generation-webui
                            </a>
                            <label for="">
                                <span data-i18n="Make sure you run it with">Make sure you run it with</span>
                                <code>--api</code>
                                <span data-i18n="flag">flag</span>
                            </label>

                        </div>
                        <h4 data-i18n="API key (optional)">API key (optional)</h4>
                        <div class="flex-container">
                            <input id="api_key_ooba" name="api_key_ooba" class="text_pole flex1 wide100p" type="text" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_ooba">
                            </div>
                        </div>
                        <div data-for="api_key_ooba" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <div class="flex1">
                            <h4 data-i18n="Server url">Server URL</h4>
                            <small data-i18n="Example: 127.0.0.1:5000">Example: http://127.0.0.1:5000</small>
                            <input id="textgenerationwebui_api_url_text" name="textgenerationwebui_api_url" class="text_pole wide100p" value="" autocomplete="off" data-server-history="ooba_blocking">
                        </div>
                        <input id="custom_model_textgenerationwebui" class="text_pole wide100p" placeholder="Custom model (optional)" data-i18n="[placeholder]Custom model (optional)" type="text">
                    </div>
                    <div data-tg-type="featherless" class="flex-container flexFlowColumn">
                        <div class="flex-container flexFlowColumn">
                            <a href="https://featherless.ai/models/" target="_blank" rel="noopener noreferrer">
                                featherless.ai
                            </a>
                        </div>
                        <h4 data-i18n="API key (optional)">API key</h4>
                        <div class="flex-container">
                            <input id="api_key_featherless" name="api_key_featherless" class="text_pole flex1 wide100p" type="text" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_featherless">
                            </div>
                        </div>
                        <div data-for="api_key_featherless" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <select id="featherless_model">
                            <option value="" data-i18n="-- Connect to the API --">
                                -- Connect to the API --
                            </option>
                        </select>
                    </div>
                    <div data-tg-type="vllm">
                        <div class="flex-container flexFlowColumn">
                            <a href="https://github.com/vllm-project/vllm" target="_blank" data-i18n="vllm-project/vllm">
                                vllm-project/vllm (OpenAI API wrapper mode)
                            </a>
                        </div>
                        <h4 data-i18n="vLLM API key">vLLM API key</h4>
                        <div class="flex-container">
                            <input id="api_key_vllm" name="api_key_vllm" class="text_pole flex1 wide100p" type="text" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_vllm">
                            </div>
                        </div>
                        <div data-for="api_key_vllm" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <div class="flex1">
                            <h4 data-i18n="API url">API URL</h4>
                            <small data-i18n="Example: 127.0.0.1:8000">Example: http://127.0.0.1:8000</small>
                            <input id="vllm_api_url_text" class="text_pole wide100p" value="" autocomplete="off" data-server-history="vllm">
                        </div>
                        <div>
                            <h4 data-i18n="vLLM Model">vLLM Model</h4>
                            <select id="vllm_model">
                                <option value="" data-i18n="-- Connect to the API --">
                                    -- Connect to the API --
                                </option>
                            </select>
                        </div>
                    </div>
                    <div data-tg-type="huggingface">
                        <h4 data-i18n="HuggingFace Token">HuggingFace Token</h4>
                        <div class="flex-container">
                            <input id="api_key_huggingface" name="api_key_huggingface" class="text_pole flex1 wide100p" type="text" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_huggingface">
                            </div>
                        </div>
                        <div data-for="api_key_huggingface" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <div class="flex1">
                            <h4 data-i18n="Endpoint URL">Endpoint URL</h4>
                            <small data-i18n="Example: https://****.endpoints.huggingface.cloud">Example: https://****.endpoints.huggingface.cloud</small>
                            <input id="huggingface_api_url_text" class="text_pole wide100p" value="" autocomplete="off" data-server-history="huggingface">
                        </div>
                    </div>

                    <div data-tg-type="aphrodite">
                        <div class="flex-container flexFlowColumn">
                            <a href="https://github.com/PygmalionAI/aphrodite-engine" target="_blank" data-i18n="PygmalionAI/aphrodite-engine">
                                PygmalionAI/aphrodite-engine (OpenAI API wrapper mode)
                            </a>
                        </div>
                        <h4 data-i18n="Aphrodite API key">Aphrodite API key</h4>
                        <div class="flex-container">
                            <input id="api_key_aphrodite" name="api_key_aphrodite" class="text_pole flex1 wide100p" type="text" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_aphrodite">
                            </div>
                        </div>
                        <div data-for="api_key_aphrodite" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <div class="flex1">
                            <h4 data-i18n="API url">API URL</h4>
                            <small data-i18n="Example: 127.0.0.1:5000">Example: http://127.0.0.1:5000</small>
                            <input id="aphrodite_api_url_text" class="text_pole wide100p" value="" autocomplete="off" data-server-history="aphrodite">
                        </div>
                        <div>
                            <h4 data-i18n="Aphrodite Model">Aphrodite Model</h4>
                            <select id="aphrodite_model">
                                <option value="" data-i18n="-- Connect to the API --">
                                    -- Connect to the API --
                                </option>
                            </select>
                        </div>
                    </div>
                    <div data-tg-type="llamacpp">
                        <div class="flex-container flexFlowColumn">
                            <a href="https://github.com/ggerganov/llama.cpp" target="_blank" data-i18n="ggerganov/llama.cpp">
                                ggerganov/llama.cpp (inference server)
                            </a>
                        </div>
                        <h4 data-i18n="API key (optional)">API key (optional)</h4>
                        <div class="flex-container">
                            <input id="api_key_llamacpp" name="api_key_llamacpp" class="text_pole flex1 wide100p" type="text" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_llamacpp">
                            </div>
                        </div>
                        <div data-for="api_key_llamacpp" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <div class="flex1">
                            <h4 data-i18n="API url">API URL</h4>
                            <small data-i18n="Example: 127.0.0.1:8080">Example: http://127.0.0.1:8080</small>
                            <input id="llamacpp_api_url_text" class="text_pole wide100p" value="" autocomplete="off" data-server-history="llamacpp">
                        </div>
                    </div>
                    <div data-tg-type="ollama">
                        <div class="flex-container flexFlowColumn">
                            <a href="https://github.com/jmorganca/ollama" target="_blank">
                                jmorganca/ollama
                            </a>
                        </div>
                        <div class="flex1">
                            <h4 data-i18n="API url">API URL</h4>
                            <small data-i18n="Example: 127.0.0.1:11434">Example: http://127.0.0.1:11434</small>
                            <input id="ollama_api_url_text" class="text_pole wide100p" value="" autocomplete="off" data-server-history="ollama">
                        </div>
                        <div class="flex1">
                            <h4>
                                <span data-i18n="Ollama Model">Ollama Model</span>
                            </h4>
                            <select id="ollama_model">
                                <option value="" data-i18n="-- Connect to the API --">
                                    -- Connect to the API --
                                </option>
                            </select>
                            <div id="ollama_download_model" class="menu_button menu_button_icon">
                                <i class="fa-solid fa-download"></i>
                                <span data-i18n="Download">Download</span>
                            </div>
                        </div>
                    </div>
                    <div data-tg-type="tabby">
                        <div class="flex-container flexFlowColumn">
                            <a href="https://github.com/theroyallab/tabbyAPI" target="_blank">
                                theroyallab/tabbyAPI
                            </a>
                        </div>
                        <h4 data-i18n="Tabby API key">Tabby API key</h4>
                        <div class="flex-container">
                            <input id="api_key_tabby" name="api_key_tabby" class="text_pole flex1 wide100p" type="text" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_tabby">
                            </div>
                        </div>
                        <div data-for="api_key_tabby" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <div class="flex1">
                            <h4 data-i18n="API url">API URL</h4>
                            <small data-i18n="Example: 127.0.0.1:5000">Example: http://127.0.0.1:5000</small>
                            <input id="tabby_api_url_text" class="text_pole wide100p" value="" autocomplete="off" data-server-history="tabby">
                        </div>
                        <div class="flex1">
                            <h4>
                                <span data-i18n="Tabby Model">Tabby Model</span>
                            </h4>
                            <b>
                                EXPERIMENTAL FEATURE. USE AT YOUR OWN RISK. DON'T ASK FOR SUPPORT ON THIS.
                            </b>
                            <select id="tabby_model">
                                <option value="" data-i18n="-- Connect to the API --">
                                    -- Connect to the API --
                                </option>
                            </select>
                            <div class="marginTopBot5">
                                <small>
                                    <i class="fa-solid fa-lightbulb"></i>
                                    &nbsp;
                                    <code>inline_model_loading: True</code>
                                    <span data-i18n="must be set in Tabby's config.yml to switch models.">
                                        must be set in Tabby's config.yml to switch models.
                                    </span>
                                    <b data-i18n="Use an admin API key.">
                                        Use an admin API key.
                                    </b>
                                </small>
                            </div>
                            <div id="tabby_download_model" class="menu_button menu_button_icon">
                                <i class="fa-solid fa-download"></i>
                                <span data-i18n="Download">Download</span>
                            </div>
                        </div>
                    </div>
                    <div data-tg-type="koboldcpp">
                        <div class="flex-container flexFlowColumn">
                            <a href="https://github.com/LostRuins/koboldcpp" target="_blank">
                                LostRuins/koboldcpp
                            </a>
                        </div>
                        <h4 data-i18n="koboldcpp API key (optional)">koboldcpp API key (optional)</h4>
                        <div class="flex-container">
                            <input id="api_key_koboldcpp" name="api_key_koboldcpp" class="text_pole flex1 wide100p" type="text" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_koboldcpp">
                            </div>
                        </div>
                        <div data-for="api_key_koboldcpp" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <div class="flex1">
                            <h4 data-i18n="API url">API URL</h4>
                            <small data-i18n="Example: 127.0.0.1:5001">Example: http://127.0.0.1:5001</small>
                            <input id="koboldcpp_api_url_text" class="text_pole wide100p" value="" autocomplete="off" data-server-history="koboldcpp">
                        </div>
                    </div>
                    <div class="flex-container">
                        <div id="api_button_textgenerationwebui" class="api_button menu_button menu_button_icon" type="submit" data-i18n="Connect" data-server-connect="ooba_blocking,vllm,aphrodite,tabby,koboldcpp,ollama,llamacpp,huggingface">Connect</div>
                        <div data-tg-type="openrouter" class="menu_button menu_button_icon openrouter_authorize" title="Get your OpenRouter API token using OAuth flow. You will be redirected to openrouter.ai" data-i18n="Authorize;[title]Get your OpenRouter API token using OAuth flow. You will be redirected to openrouter.ai">Authorize</div>
                        <div class="api_loading menu_button menu_button_icon" data-i18n="Cancel">Cancel</div>
                    </div>
                    <label data-tg-type="ooba" class="checkbox_label margin-bot-10px" for="legacy_api_textgenerationwebui">
                        <input type="checkbox" id="legacy_api_textgenerationwebui" />
                        <span data-i18n="Legacy API (pre-OAI, no streaming)">Legacy API (pre-OAI, no streaming)</span>
                    </label>
                    <label data-tg-type="ooba" class="checkbox_label margin-bot-10px" for="bypass_status_check_textgenerationwebui">
                        <input type="checkbox" id="bypass_status_check_textgenerationwebui" />
                        <span data-i18n="Bypass status check">Bypass status check</span>
                    </label>
                </form>
                <div class="online_status">
                    <div class="online_status_indicator"></div>
                    <div class="online_status_text" data-i18n="Not connected...">Not connected...</div>
                </div>
            </div>
            <div id="openai_api" style="display: none;position: relative;">
                <h4 class="margin0" data-i18n="Chat Completion Source">
                    Chat Completion Source
                </h4>
                <select id="chat_completion_source">
                    <optgroup>
                        <option value="openai">OpenAI</option>
                        <option value="custom" data-i18n="Custom (OpenAI-compatible)">Custom (OpenAI-compatible)</option>
                    </optgroup>
                    <optgroup>
                        <option value="01ai">01.AI (Yi)</option>
                        <option value="ai21">AI21</option>
                        <option value="blockentropy">Block Entropy</option>
                        <option value="claude">Claude</option>
                        <option value="cohere">Cohere</option>
                        <option value="groq">Groq</option>
                        <option value="makersuite">Google AI Studio</option>
                        <option value="mistralai">MistralAI</option>
                        <option value="openrouter">OpenRouter</option>
                        <option value="perplexity">Perplexity</option>
                        <option value="scale">Scale</option>
                        <option value="windowai">Window AI</option>
                    </optgroup>
                </select>
                <div class="inline-drawer wide100p" data-source="openai,claude,mistralai,makersuite">
                    <div class="inline-drawer-toggle inline-drawer-header">
                        <b data-i18n="Reverse Proxy">Reverse Proxy</b>
                        <div class="fa-solid fa-circle-chevron-down inline-drawer-icon down"></div>
                    </div>
                    <div class="inline-drawer-content">
                        <div class="range-block-title justifyLeft" data-i18n="Proxy Presets">
                            Proxy Presets
                        </div>
                        <div class="toggle-description justifyLeft">
                            <span data-i18n="Saved addresses and passwords.">
                                Saved addresses and passwords.<br>
                            </span>
                        </div>
                        <div class="openai_logit_bias_preset_form">
                            <select id="openai_proxy_preset">
                            </select>
                            <i id="save_proxy" class="menu_button fa-solid fa-save" title="Save Proxy" data-i18n="[title]Save Proxy"></i>
                            <i id="delete_proxy" class="menu_button fa-solid fa-trash" title="Delete Proxy" data-i18n="[title]Delete Proxy"></i>
                        </div>
                        <div class="range-block-title justifyLeft" data-i18n="Proxy Name">
                            Proxy Name
                        </div>
                        <div class="toggle-description justifyLeft">
                            <span data-i18n="This will show up as your saved preset.">
                                This will show up as your saved preset.<br>
                            </span>
                        </div>
                        <div class="wide100p">
                            <input id="openai_reverse_proxy_name" type="text" class="text_pole" placeholder="..." />
                        </div>
                        <div class="range-block-title justifyLeft" data-i18n="Proxy Server URL">
                            Proxy Server URL
                        </div>
                        <div class="toggle-description justifyLeft wide100p">
                            <span data-i18n="Alternative server URL (leave empty to use the default value).">
                                Alternative server URL (leave empty to use the default value).<br>
                            </span>
                        </div>
                        <div class="wide100p">
                            <input id="openai_reverse_proxy" type="text" class="text_pole" placeholder="https://api.openai.com/v1" />
                            <small class="reverse_proxy_warning">
                                <span data-i18n="Doesn't work? Try adding">Doesn't work? Try adding</span> <code>/v1</code> <span data-i18n="at the end!">at the end!</span>
                            </small>
                        </div>
                        <div class="range-block-title justifyLeft" data-i18n="Proxy Password">
                            Proxy Password
                        </div>
                        <div class="toggle-description justifyLeft">
                            <span data-i18n="Will be used as a password for the proxy instead of API key.">
                                Will be used as a password for the proxy instead of API key.<br>
                            </span>
                        </div>
                        <div class="flex-container width100p">
                            <input id="openai_proxy_password" type="password" class="text_pole flex1" placeholder="" form="openai_form" autocomplete="off" />
                            <div id="openai_proxy_password_show" title="Peek a password" data-i18n="[title]Peek a password" class="menu_button fa-solid fa-eye-slash fa-fw"></div>
                        </div>
                    </div>
                </div>
                <div id="ReverseProxyWarningMessage" data-source="openai,claude,mistralai,makersuite">
                    <div class="reverse_proxy_warning">
                        <b>
                            <div data-i18n="Using a proxy that you're not running yourself is a risk to your data privacy.">
                                Using a proxy that you're not running yourself is a risk to your data privacy.
                            </div>
                            <div data-i18n="ANY support requests will be REFUSED if you are using a proxy.">
                                ANY support requests will be REFUSED if you are using a proxy.
                            </div>
                            <hr>
                            <i data-i18n="Do not proceed if you do not agree to this!">
                                Do not proceed if you do not agree to this!
                            </i>
                        </b>
                    </div>
                </div>
                <form id="openai_form" data-source="openai" action="javascript:void(null);" method="post" enctype="multipart/form-data">
                    <h4><span data-i18n="OpenAI API key">OpenAI API key</span></h4>
                    <div>
                        <a id="openai_api_usage" href="https://platform.openai.com/account/usage" target="_blank">
                            <span data-i18n="View API Usage Metrics">View API Usage Metrics</span>
                        </a>
                    </div>
                    <span>
                        <ol>
                            <li>
                                <span data-i18n="Follow">Follow</span>
                                <a href="https://docs.sillytavern.app/usage/api-connections/openai/" class="notes-link" target="_blank"><span data-i18n="these directions"> these directions </span></a>
                                <span data-i18n="to get your OpenAI API key.">to get your OpenAI API key.</span>
                            </li>
                            <li>
                                <span data-i18n="Enter it in the box below">Enter it in the box below:</span>
                            </li>
                        </ol>
                    </span>
                    <div class="flex-container">
                        <input id="api_key_openai" name="api_key_openai" class="text_pole flex1" value="" type="text" autocomplete="off">
                        <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_openai"></div>
                    </div>
                    <div id="ReverseProxyWarningMessage2" class="reverse_proxy_warning">
                        <b data-i18n="Use Proxy password field instead. This input will be ignored.">
                            Use "Proxy password" field instead. This input will be ignored.
                        </b>
                    </div>
                    <div data-for="api_key_openai" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                        For privacy reasons, your API key will be hidden after you reload the page.
                    </div>
                    <div>
                        <h4 data-i18n="OpenAI Model">OpenAI Model</h4>
                        <select id="model_openai_select">
                            <optgroup label="GPT-3.5 Turbo">
                                <option value="gpt-3.5-turbo">gpt-3.5-turbo</option>
                                <option value="gpt-3.5-turbo-0125">gpt-3.5-turbo-0125 (2024)</option>
                                <option value="gpt-3.5-turbo-1106">gpt-3.5-turbo-1106 (2023)</option>
                                <option value="gpt-3.5-turbo-0613">gpt-3.5-turbo-0613 (2023)</option>
                                <option value="gpt-3.5-turbo-0301">gpt-3.5-turbo-0301 (2023)</option>
                                <option value="gpt-3.5-turbo-16k">gpt-3.5-turbo-16k</option>
                                <option value="gpt-3.5-turbo-16k-0613">gpt-3.5-turbo-16k-0613 (2023)</option>
                            </optgroup>
                            <optgroup label="GPT-3.5 Turbo Instruct">
                                <option value="gpt-3.5-turbo-instruct">gpt-3.5-turbo-instruct</option>
                                <option value="gpt-3.5-turbo-instruct-0914">gpt-3.5-turbo-instruct-0914</option>
                            </optgroup>
                            <optgroup label="GPT-4">
                                <option value="gpt-4">gpt-4</option>
                                <option value="gpt-4-0613">gpt-4-0613 (2023)</option>
                                <option value="gpt-4-0314">gpt-4-0314 (2023)</option>
                                <option value="gpt-4-32k">gpt-4-32k</option>
                                <option value="gpt-4-32k-0613">gpt-4-32k-0613 (2023)</option>
                                <option value="gpt-4-32k-0314">gpt-4-32k-0314 (2023)</option>
                            </optgroup>
                            <optgroup label="GPT-4o">
                                <option value="gpt-4o">gpt-4o</option>
                                <option value="gpt-4o-2024-08-06">gpt-4o-2024-08-06</option>
                                <option value="gpt-4o-2024-05-13">gpt-4o-2024-05-13</option>
                                <option value="chatgpt-4o-latest">chatgpt-4o-latest</option>
                            </optgroup>
                            <optgroup label="gpt-4o-mini">
                                <option value="gpt-4o-mini">gpt-4o-mini</option>
                                <option value="gpt-4o-mini-2024-07-18">gpt-4o-mini-2024-07-18</option>
                            </optgroup>
                            <optgroup label="GPT-4 Turbo">
                                <option value="gpt-4-turbo">gpt-4-turbo</option>
                                <option value="gpt-4-turbo-2024-04-09">gpt-4-turbo-2024-04-09</option>
                                <option value="gpt-4-turbo-preview">gpt-4-turbo-preview</option>
                                <option value="gpt-4-vision-preview">gpt-4-vision-preview</option>
                                <option value="gpt-4-0125-preview">gpt-4-0125-preview (2024)</option>
                                <option value="gpt-4-1106-preview">gpt-4-1106-preview (2023)</option>
                            </optgroup>
                            <optgroup label="o1">
                                <option value="o1-preview">o1-preview</option>
                                <option value="o1-mini">o1-mini</option>
                            </optgroup>
                            <optgroup label="Other">
                                <option value="text-davinci-003">text-davinci-003</option>
                                <option value="text-davinci-002">text-davinci-002</option>
                                <option value="text-curie-001">text-curie-001</option>
                                <option value="text-babbage-001">text-babbage-001</option>
                                <option value="text-ada-001">text-ada-001</option>
                                <option value="code-davinci-002">code-davinci-002</option>
                            </optgroup>
                            <optgroup id="openai_external_category" label="External">
                            </optgroup>
                        </select>
                        <label for="openai_bypass_status_check" class="checkbox_label">
                            <input id="openai_bypass_status_check" type="checkbox" />
                            <span data-i18n="Bypass API status check">Bypass API status check</span>
                        </label>
                        <label for="openai_show_external_models" class="checkbox_label">
                            <input id="openai_show_external_models" type="checkbox" />
                            <span data-i18n="Show External models (provided by API)">Show "External" models (provided by API)</span>
                        </label>
                    </div>
                </form>
                <form id="claude_form" data-source="claude" action="javascript:void(null);" method="post" enctype="multipart/form-data">
                    <h4>Claude API Key</h4>
                    <div>
                        <span data-i18n="Get your key from">Get your key from </span> <a target="_blank" href="https://console.anthropic.com/account/keys" data-i18n="Anthropic's developer console">Anthropic's developer console</a>.
                    </div>
                    <div>
                        <b data-i18n="Slack and Poe cookies will not work here, do not bother trying.">
                            Slack and Poe cookies will not work here, do not bother trying.
                        </b>
                    </div>
                    <div class="flex-container">
                        <input id="api_key_claude" name="api_key_claude" class="text_pole flex1" value="" type="text" autocomplete="off">
                        <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_claude"></div>
                    </div>
                    <div data-for="api_key_claude" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                        For privacy reasons, your API key will be hidden after you reload the page.
                    </div>
                    <div>
                        <h4 data-i18n="Claude Model">Claude Model</h4>
                        <select id="model_claude_select">
                            <optgroup label="Versions">
                                <option value="claude-3-5-sonnet-20240620">claude-3-5-sonnet-20240620</option>
                                <option value="claude-3-opus-20240229">claude-3-opus-20240229</option>
                                <option value="claude-3-sonnet-20240229">claude-3-sonnet-20240229</option>
                                <option value="claude-3-haiku-20240307">claude-3-haiku-20240307</option>
                                <option value="claude-2.1">claude-2.1</option>
                                <option value="claude-2.0">claude-2.0</option>
                                <option value="claude-1.3">claude-1.3</option>
                                <option value="claude-instant-1.2">claude-instant-1.2</option>
                                <option value="claude-instant-1.1">claude-instant-1.1</option>
                            </optgroup>
                        </select>
                    </div>
                </form>
                <form id="windowai_form" data-source="windowai" action="javascript:void(null);" method="post" enctype="multipart/form-data">
                    <div>
                        <h4 data-i18n="Window AI Model">Window AI Model</h4>
                        <select id="model_windowai_select">
                            <option value="">Use extension settings</option>
                            <option value="openai/gpt-3.5-turbo">openai/gpt-3.5-turbo</option>
                            <option value="openai/gpt-3.5-turbo-16k">openai/gpt-3.5-turbo-16k</option>
                            <option value="openai/gpt-4">openai/gpt-4</option>
                            <option value="openai/gpt-4-32k">openai/gpt-4-32k</option>
                            <option value="anthropic/claude-instant-v1">anthropic/claude-instant-v1</option>
                            <option value="anthropic/claude-instant-v1-100k">anthropic/claude-instant-v1-100k</option>
                            <option value="anthropic/claude-v1">anthropic/claude-v1</option>
                            <option value="anthropic/claude-v1-100k">anthropic/claude-v1-100k</option>
                            <option value="google/palm-2-chat-bison">google/palm-2-chat-bison</option>
                            <option value="google/palm-2-codechat-bison">google/palm-2-codechat-bison</option>
                            <option value="togethercomputer/GPT-NeoXT-Chat-Base-20B">togethercomputer/GPT-NeoXT-Chat-Base-20B</option>
                            <option value="cohere/command-nightly">cohere/command-nightly</option>
                        </select>
                    </div>
                </form>
                <form id="openrouter_form" data-source="openrouter" action="javascript:void(null);" method="post" enctype="multipart/form-data">
                    <h4 data-i18n="OpenRouter API Key">OpenRouter API Key</h4>
                    <div>
                        <small data-i18n="Click Authorize below or get the key from">
                            Click "Authorize" below or get the key from </small> <a target="_blank" href="https://openrouter.ai/keys/">OpenRouter</a>.
                        <br>
                        <a href="https://openrouter.ai/account" target="_blank" data-i18n="View Remaining Credits">View Remaining Credits</a>
                    </div>
                    <div class="flex-container">
                        <input id="api_key_openrouter" name="api_key_openrouter" class="text_pole flex1 api_key_openrouter" value="" type="text" autocomplete="off">
                        <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_openrouter"></div>
                    </div>
                    <div data-for="api_key_openrouter" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                        For privacy reasons, your API key will be hidden after you reload the page.
                    </div>
                    <div>
                        <h4 data-i18n="OpenRouter Model">OpenRouter Model</h4>
                        <select id="model_openrouter_select">
                            <option value="" data-i18n="-- Connect to the API --">-- Connect to the API --</option>
                        </select>
                    </div>
                    <label for="openrouter_use_fallback" class="checkbox_label marginTopBot5" data-i18n="[title]Allow fallback routes Description" title="Automatically chooses an alternative model if the chosen model can't serve your request.">
                        <input id="openrouter_use_fallback" type="checkbox" />
                        <span data-i18n="Allow fallback models">Allow fallback models</span>
                    </label>
                    <div class="marginTopBot5">
                        <div class="inline-drawer wide100p">
                            <div class="inline-drawer-toggle inline-drawer-header">
                                <b data-i18n="Model Order">OpenRouter Model Sorting</b>
                                <div class="fa-solid fa-circle-chevron-down inline-drawer-icon down"></div>
                            </div>
                            <div class="inline-drawer-content m-b-1">
                                <div class="marginTopBot5">
                                    <label for="openrouter_sort_models" class="checkbox_label">
                                        <select id="openrouter_sort_models">
                                            <option data-i18n="Alphabetically" value="alphabetically">Alphabetically</option>
                                            <option data-i18n="Price" value="pricing.prompt">Price (cheapest)</option>
                                            <option data-i18n="Context Size" value="context_length">Context Size</option>
                                        </select>
                                    </label>
                                </div>
                                <div class="marginTopBot5">
                                    <label for="openrouter_group_models" class="checkbox_label">
                                        <input id="openrouter_group_models" type="checkbox" />
                                        <span data-i18n="Group by vendors">Group by vendors</span>
                                    </label>
                                    <div class="toggle-description justifyLeft wide100p">
                                        <span data-i18n="Group by vendors Description">
                                            Put OpenAI models in one group, Anthropic models in other group, etc. Can be combined with sorting.
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h4 data-i18n="Model Providers">Model Providers</h4>
                        <select id="openrouter_providers_chat" class="openrouter_providers" multiple>
                        </select>
                        <label class="checkbox_label marginTopBot5" for="openrouter_allow_fallbacks" title="Automatically chooses an alternative provider if chosen providers can't serve your request.">
                            <input id="openrouter_allow_fallbacks" type="checkbox" />
                            <span data-i18n="Allow fallback providers">Allow fallback providers</span>
                        </label>
                    </div>
                    <div class="marginTopBot5">
                        <label for="openrouter_force_instruct" class="checkbox_label">
                            <input id="openrouter_force_instruct" type="checkbox" />
                            <span class="flex-container alignItemsBaseline" title="This option is outdated and will be removed in the future. To use instruct formatting, please switch to OpenRouter under Text Completion API instead." data-i18n="[title]openrouter_force_instruct">
                                <i class="fa-solid fa-circle-exclamation neutral_warning"></i>
                                <b data-i18n="LEGACY">LEGACY</b>
                            </span>
                            <span data-i18n="Force Instruct Mode formatting">Force Instruct Mode formatting</span>
                        </label>
                        <div class="toggle-description justifyLeft wide100p">
                            <span data-i18n="Force_Instruct_Mode_formatting_Description">
                                If both Instruct Mode and this are enabled, the prompt will be formatted by SillyTavern using the current
                                advanced formatting settings (except instruct System Prompt). If disabled, the prompt will be formatted by OpenRouter.
                            </span>
                        </div>
                    </div>
                </form>
                <form id="scale_form" data-source="scale" action="javascript:void(null);" method="post" enctype="multipart/form-data">
                    <div id="normal_scale_form">
                        <h4 data-i18n="Scale API Key">Scale API Key</h4>
                        <div class="flex-container">
                            <input id="api_key_scale" name="api_key_scale" class="text_pole flex1" value="" autocomplete="off">
                            <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_scale"></div>
                        </div>
                        <div data-for="api_key_scale" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                            For privacy reasons, your API key will be hidden after you reload the page.
                        </div>
                        <h4>Scale API URL</h4>
                        <input id="api_url_scale" name="api_url_scale" class="text_pole" value="" autocomplete="off" placeholder="https://dashboard.scale.com/spellbook/api/v2/deploy/xxxxxxx">
                    </div>
                    <div id="alt_scale_form">
                        <h4>Scale Cookie (_jwt)</h4>
                        <div class="flex-container">
                            <input id="scale_cookie" name="scale_cookie" class="text_pole flex1" value="" autocomplete="off">
                            <div title="Clear your cookie" data-i18n="[title]Clear your cookie" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="scale_cookie"></div>
                        </div>
                        <div data-for="scale_cookie" class="neutral_warning">
                            For privacy reasons, your cookie will be hidden after you reload the page.
                        </div>
                    </div>
                    <!-- Its only purpose is to trigger max context size check -->
                    <select id="model_scale_select" class="displayNone"></select>
                    <label for="scale-alt" class="checkbox_label">
                        <input id="scale-alt" type="checkbox" checked>
                        <span data-i18n="Alt Method">Alt Method</span>
                    </label>
                </form>
                <form id="ai21_form" data-source="ai21" action="javascript:void(null);" method="post" enctype="multipart/form-data">
                    <h4 data-i18n="AI21 API Key">AI21 API Key</h4>
                    <div class="flex-container">
                        <input id="api_key_ai21" name="api_key_ai21" class="text_pole flex1" value="" type="text" autocomplete="off">
                        <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_ai21"></div>
                    </div>
                    <div data-for="api_key_ai21" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                        For privacy reasons, your API key will be hidden after you reload the page.
                    </div>
                    <div>
                        <h4 data-i18n="AI21 Model">AI21 Model</h4>
                        <select id="model_ai21_select">
                            <optgroup label="Jamba 1.5">
                                <option value="jamba-1.5-mini">jamba-1.5-mini</option>
                                <option value="jamba-1.5-large">jamba-1.5-large</option>
                            </optgroup>
                            <optgroup label="Jamba-Instruct (Deprecated)">
                                <option value="jamba-instruct-preview">jamba-instruct-preview</option>
                            </optgroup>
                        </select>
                    </div>
                </form>
                <form id="makersuite_form" data-source="makersuite" action="javascript:void(null);" method="post" enctype="multipart/form-data">
                    <h4 data-i18n="Google AI Studio API Key">Google AI Studio API Key</h4>
                    <div class="flex-container">
                        <input id="api_key_makersuite" name="api_key_makersuite" class="text_pole flex1" value="" type="text" autocomplete="off">
                        <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_makersuite"></div>
                    </div>
                    <div data-for="api_key_makersuite" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                        For privacy reasons, your API key will be hidden after you reload the page.
                    </div>
                    <div>
                        <h4 data-i18n="Google Model">Google Model</h4>
                        <select id="model_google_select">
                            <optgroup label="Primary">
                                <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
                                <option value="gemini-1.5-flash">Gemini 1.5 Flash</option>
                                <option value="gemini-1.0-pro">Gemini 1.0 Pro</option>
                                <option value="gemini-pro">Gemini Pro (1.0)</option>
                                <option value="gemini-pro-vision">Gemini Pro Vision (1.0)</option>
                                <option value="gemini-ultra">Gemini Ultra (1.0)</option>
                                <option value="gemini-1.0-ultra-latest">Gemini 1.0 Ultra</option>
                                <option value="text-bison-001">PaLM 2 (Legacy)</option>
                                <option value="chat-bison-001">PaLM 2 Chat (Legacy)</option>
                            </optgroup>
                            <optgroup label="Subversions">
                                <option value="gemini-1.5-pro-exp-0801">Gemini 1.5 Pro Experiment 2024-08-01</option>
                                <option value="gemini-1.5-pro-exp-0827">Gemini 1.5 Pro Experiment 2024-08-27</option>
                                <option value="gemini-1.5-pro-latest">Gemini 1.5 Pro [latest]</option>
                                <option value="gemini-1.5-pro-001">Gemini 1.5 Pro [001]</option>
                                <option value="gemini-1.5-flash-exp-0827">Gemini 1.5 Flash Experiment 2024-08-27</option>
                                <option value="gemini-1.5-flash-8b-exp-0827">Gemini 1.5 Flash 8B Experiment 2024-08-27</option>
                                <option value="gemini-1.5-flash-latest">Gemini 1.5 Flash [latest]</option>
                                <option value="gemini-1.5-flash-001">Gemini 1.5 Flash [001]</option>
                                <option value="gemini-1.0-pro-latest">Gemini 1.0 Pro [latest]</option>
                                <option value="gemini-1.0-pro-001">Gemini 1.0 Pro (Tuning) [001]</option>
                                <option value="gemini-1.0-pro-vision-latest">Gemini 1.0 Pro Vision [latest]</option>
                            </optgroup>
                        </select>
                    </div>
                </form>
                <form id="mistralai_form" data-source="mistralai" action="javascript:void(null);" method="post" enctype="multipart/form-data">
                    <h4 data-i18n="MistralAI API Key">MistralAI API Key</h4>
                    <div class="flex-container">
                        <input id="api_key_mistralai" name="api_key_mistralai" class="text_pole flex1" value="" type="text" autocomplete="off">
                        <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_mistralai"></div>
                    </div>
                    <div data-for="api_key_mistralai" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                        For privacy reasons, your API key will be hidden after you reload the page.
                    </div>
                    <div>
                        <h4 data-i18n="MistralAI Model">MistralAI Model</h4>
                        <select id="model_mistralai_select">
                            <optgroup label="Latest">
                                <option value="open-mistral-nemo">open-mistral-nemo</option>
                                <option value="open-mistral-7b">open-mistral-7b</option>
                                <option value="open-mixtral-8x7b">open-mixtral-8x7b</option>
                                <option value="open-mixtral-8x22b">open-mixtral-8x22b</option>
                                <option value="open-codestral-mamba">open-codestral-mamba</option>
                                <option value="mistral-small-latest">mistral-small-latest</option>
                                <option value="mistral-medium-latest">mistral-medium-latest</option>
                                <option value="mistral-large-latest">mistral-large-latest</option>
                                <option value="codestral-latest">codestral-latest</option>
                                <option value="codestral-mamba-latest">codestral-mamba-latest</option>
                                <option value="pixtral-latest">pixtral-latest</option>
                            </optgroup>
                            <optgroup label="Sub-versions">
                                <option value="open-mistral-nemo-2407">open-mistral-nemo-2407</option>
                                <option value="open-mixtral-8x22b-2404">open-mixtral-8x22b-2404</option>
                                <option value="mistral-tiny-2312">mistral-tiny-2312</option>
                                <option value="mistral-small-2312">mistral-small-2312</option>
                                <option value="mistral-small-2402">mistral-small-2402</option>
                                <option value="mistral-small-2409">mistral-small-2409</option>
                                <option value="mistral-medium-2312">mistral-medium-2312</option>
                                <option value="mistral-large-2402">mistral-large-2402</option>
                                <option value="mistral-large-2407">mistral-large-2407</option>
                                <option value="codestral-2405">codestral-2405</option>
                                <option value="codestral-mamba-2407">codestral-mamba-2407</option>
                                <option value="pixtral-12b-2409">pixtral-12b-2409</option>
                            </optgroup>
                        </select>
                    </div>
                </form>
                <div id="groq_form" data-source="groq">
                    <h4 data-i18n="Groq API Key">Groq API Key</h4>
                    <div class="flex-container">
                        <input id="api_key_groq" name="api_key_groq" class="text_pole flex1" value="" type="text" autocomplete="off">
                        <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_groq"></div>
                    </div>
                    <div data-for="api_key_groq" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                        For privacy reasons, your API key will be hidden after you reload the page.
                    </div>
                    <h4 data-i18n="Groq Model">Groq Model</h4>
                    <select id="model_groq_select">
                        <option value="llama-3.1-405b-reasoning">llama-3.1-405b-reasoning</option>
                        <option value="llama-3.1-70b-versatile">llama-3.1-70b-versatile</option>
                        <option value="llama-3.1-8b-instant">llama-3.1-8b-instant</option>
                        <option value="llama3-groq-70b-8192-tool-use-preview">llama3-groq-70b-8192-tool-use-preview</option>
                        <option value="llama3-groq-8b-8192-tool-use-preview">llama3-groq-8b-8192-tool-use-preview</option>
                        <option value="llama3-8b-8192">llama3-8b-8192</option>
                        <option value="llama3-70b-8192">llama3-70b-8192</option>
                        <option value="mixtral-8x7b-32768">mixtral-8x7b-32768</option>
                        <option value="gemma-7b-it">gemma-7b-it</option>
                        <option value="gemma2-9b-it">gemma2-9b-it</option>
                    </select>
                </div>
                <div id="perplexity_form" data-source="perplexity">
                    <h4 data-i18n="Perplexity API Key">Perplexity API Key</h4>
                    <div class="flex-container">
                        <input id="api_key_perplexity" name="api_key_perplexity" class="text_pole flex1" value="" type="text" autocomplete="off">
                        <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_perplexity"></div>
                    </div>
                    <div data-for="api_key_perplexity" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                        For privacy reasons, your API key will be hidden after you reload the page.
                    </div>
                    <h4 data-i18n="Perplexity Model">Perplexity Model</h4>
                    <select id="model_perplexity_select">
                        <optgroup label="Perplexity Sonar Models">
                            <option value="llama-3.1-sonar-small-128k-online">llama-3.1-sonar-small-128k-online</option>
                            <option value="llama-3.1-sonar-large-128k-online">llama-3.1-sonar-large-128k-online</option>
                            <option value="llama-3.1-sonar-huge-128k-online">llama-3.1-sonar-huge-128k-online</option>
                        </optgroup>
                        <optgroup label="Perplexity Chat Models">
                            <option value="llama-3.1-sonar-small-128k-chat">llama-3.1-sonar-small-128k-chat</option>
                            <option value="llama-3.1-sonar-large-128k-chat">llama-3.1-sonar-large-128k-chat</option>
                        </optgroup>
                        <optgroup label="Open-Source Models">
                            <option value="llama-3.1-8b-instruct">llama-3.1-8b-instruct</option>
                            <option value="llama-3.1-70b-instruct">llama-3.1-70b-instruct</option>
                        </optgroup>
                        <optgroup label="Deprecated Models">
                            <option value="llama-3-sonar-small-32k-chat">llama-3-sonar-small-32k-chat</option>
                            <option value="llama-3-sonar-small-32k-online">llama-3-sonar-small-32k-online</option>
                            <option value="llama-3-sonar-large-32k-chat">llama-3-sonar-large-32k-chat</option>
                            <option value="llama-3-sonar-large-32k-online">llama-3-sonar-large-32k-online</option>
                            <option value="sonar-small-chat">sonar-small-chat</option>
                            <option value="sonar-small-online">sonar-small-online</option>
                            <option value="sonar-medium-chat">sonar-medium-chat</option>
                            <option value="sonar-medium-online">sonar-medium-online</option>
                            <option value="llama-3-8b-instruct">llama-3-8b-instruct</option>
                            <option value="llama-3-70b-instruct">llama-3-70b-instruct</option>
                            <option value="mistral-7b-instruct">mistral-7b-instruct (v0.2)</option>
                            <option value="mixtral-8x7b-instruct">mixtral-8x7b-instruct</option>
                        </optgroup>
                    </select>
                </div>
                <form id="cohere_form" data-source="cohere" action="javascript:void(null);" method="post" enctype="multipart/form-data">
                    <h4 data-i18n="Cohere API Key">Cohere API Key</h4>
                    <div class="flex-container">
                        <input id="api_key_cohere" name="api_key_cohere" class="text_pole flex1" value="" type="text" autocomplete="off">
                        <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_cohere"></div>
                    </div>
                    <div data-for="api_key_cohere" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                        For privacy reasons, your API key will be hidden after you reload the page.
                    </div>
                    <div>
                        <h4 data-i18n="Cohere Model">Cohere Model</h4>
                        <select id="model_cohere_select">
                            <optgroup label="Stable">
                                <option value="c4ai-aya-23-35b">c4ai-aya-23-35b</option>
                                <option value="c4ai-aya-23-8b">c4ai-aya-23-8b</option>
                                <option value="command-light">command-light</option>
                                <option value="command">command</option>
                                <option value="command-r">command-r</option>
                                <option value="command-r-plus">command-r-plus</option>
                                <option value="command-r-08-2024">command-r-08-2024</option>
                                <option value="command-r-plus-08-2024">command-r-plus-08-2024</option>
                            </optgroup>
                            <optgroup label="Nightly">
                                <option value="command-light-nightly">command-light-nightly</option>
                                <option value="command-nightly">command-nightly</option>
                            </optgroup>
                        </select>
                    </div>
                </form>
                <form id="blockentropy_form" data-source="blockentropy">
                    <h4 data-i18n="Block Entropy API Key">Block Entropy API Key</h4>
                    <div class="flex-container">
                        <input id="api_key_blockentropy" name="api_key_blockentropy" class="text_pole flex1" value="" type="text" autocomplete="off">
                        <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_blockentropy"></div>
                    </div>
                    <div data-for="api_key_blockentropy" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                        For privacy reasons, your API key will be hidden after you reload the page.
                    </div>
                    <h4 data-i18n="Select a Model">Select a Model</h4>
                    <div class="flex-container">
                        <select id="model_blockentropy_select" class="text_pole"></select>
                    </div>
                </form>
                <form id="custom_form" data-source="custom">
                    <h4 data-i18n="Custom Endpoint (Base URL)">Custom Endpoint (Base URL)</h4>
                    <div class="flex-container">
                        <input id="custom_api_url_text" class="text_pole wide100p" value="" autocomplete="off" data-i18n="[placeholder]Example: http://localhost:1234/v1" placeholder="Example: http://localhost:1234/v1">
                    </div>
                    <div>
                        <small>
                            <span data-i18n="Doesn't work? Try adding">Doesn't work? Try adding</span> <code>/v1</code> <span data-i18n="at the end of the URL!">at the end of the URL!</span>
                        </small>
                    </div>
                    <h4>
                        <span data-i18n="Custom API Key">Custom API Key</span>
                        <small data-i18n="(Optional)">(Optional)</small>
                    </h4>
                    <div class="flex-container">
                        <input id="api_key_custom" name="api_key_custom" class="text_pole flex1" value="" type="text" autocomplete="off">
                        <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_custom"></div>
                    </div>
                    <div data-for="api_key_custom" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                        For privacy reasons, your API key will be hidden after you reload the page.
                    </div>
                    <h4 data-i18n="Enter a Model ID">Enter a Model ID</h4>
                    <div class="flex-container">
                        <input list="model_custom_select_fill" id="custom_model_id" class="text_pole wide100p" value="" autocomplete="off" data-i18n="[placeholder]Example: gpt-3.5-turbo" placeholder="Example: gpt-3.5-turbo">
                        <datalist id="model_custom_select_fill" class="text_pole model_custom_select"></datalist>
                    </div>
                    <h4 data-i18n="Available Models">Available Models</h4>
                    <div class="flex-container">
                        <select id="model_custom_select" class="text_pole model_custom_select"></select>
                    </div>
                    <h4 data-i18n="Prompt Post-Processing">Prompt Post-Processing</h4>
                    <select id="custom_prompt_post_processing" class="text_pole" title="Applies additional processing to the prompt before sending it to the API." data-i18n="[title]Applies additional processing to the prompt before sending it to the API.">
                        <option data-i18n="prompt_post_processing_none" value="">None</option>
                        <option value="claude">Claude</option>
                    </select>
                </form>
                <div id="01ai_form" data-source="01ai">
                    <h4>
                        <a data-i18n="01.AI API Key" href="https://platform.01.ai/" target="_blank" rel="noopener noreferrer">
                            01.AI API Key
                        </a>
                    </h4>
                    <div class="flex-container">
                        <input id="api_key_01ai" name="api_key_01ai" class="text_pole flex1" value="" type="text" autocomplete="off">
                        <div title="Clear your API key" data-i18n="[title]Clear your API key" class="menu_button fa-solid fa-circle-xmark clear-api-key" data-key="api_key_01ai"></div>
                    </div>
                    <div data-for="api_key_01ai" class="neutral_warning" data-i18n="For privacy reasons, your API key will be hidden after you reload the page.">
                        For privacy reasons, your API key will be hidden after you reload the page.
                    </div>
                    <h4 data-i18n="01.AI Model">01.AI Model</h4>
                    <select id="model_01ai_select">
                    </select>
                </div>
                <div class="flex-container flex">
                    <div id="api_button_openai" class="api_button menu_button menu_button_icon" type="submit" data-i18n="Connect">Connect</div>
                    <div class="api_loading menu_button menu_button_icon" data-i18n="Cancel">Cancel</div>
                    <div data-source="custom" id="customize_additional_parameters" class="menu_button menu_button_icon" data-i18n="Additional Parameters">Additional Parameters</div>
                    <div data-source="openrouter" class="menu_button menu_button_icon openrouter_authorize" title="Get your OpenRouter API token using OAuth flow. You will be redirected to openrouter.ai" data-i18n="Authorize;[title]Get your OpenRouter API token using OAuth flow. You will be redirected to openrouter.ai">Authorize</div>
                    <div id="test_api_button" class="menu_button menu_button_icon" title="Verifies your API connection by sending a short test message. Be aware that you'll be credited for it!" data-i18n="[title]Verifies your API connection by sending a short test message. Be aware that you'll be credited for it!"><span data-i18n="Test Message">Test Message</span></div>
                </div>
                <div class="online_status">
                    <div class="online_status_indicator"></div>
                    <div class="online_status_text" data-i18n="No connection...">No connection...</div>
                </div>
            </div>
        </div>
        <div class="flex-container alignitemscenter spaceBetween wide100p">
            <label for="auto-connect-checkbox" class="checkbox_label"><input id="auto-connect-checkbox" type="checkbox" />
                <span data-i18n="Auto-connect to Last Server">Auto-connect to Last Server</span>
            </label>
            <a id="viewSecrets" href="javascript:void(0);" data-i18n="[missing_key_text]Missing key;[key_saved_text]Key saved" missing_key_text=" Missing key" key_saved_text=" Key saved"><span data-i18n="View hidden API keys">View hidden API keys</span></a>
        </div>
    </div>
</div>

Get First Message = macros.js, getFirstIncludedMessageId()

/scripts/group-chats.js = AI response